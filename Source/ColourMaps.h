#include <array>
#include <juce_core/juce_core.h>

// 12 points, rgb interleaved.
#define COLOUR_MAP_SIZE 12*3
#define COLOUR_MAP_NUM_COLOURS 12

#define ACCENT_COLOURS_SIZE 2*3
#define ACCENT_COLOURS_NUM_COLOURS 2

// used for the spectrogram.
typedef std::array<float, COLOUR_MAP_SIZE> ColourMap;
// used for the analyser.
typedef std::array<float, ACCENT_COLOURS_SIZE> AccentColours;

static const float* getColourmapData(const ColourMap& cmap)
{
    return cmap.data();
}

static const float* getAccentData(const AccentColours& colours)
{
    return colours.data();
}

static const const float* getColourMapForCode(int code)
{
    switch (code)
    {
        case 0: return getColourmapData(INFERNO);
        case 1: return getColourmapData(PLASMA);
        case 2: return getColourmapData(VIRIDIS);
        case 3: return getColourmapData(COOLWARM);
        case 4: return getColourmapData(RAINBOW);
        case 5: return getColourmapData(HOT);
        case 6: return getColourmapData(COPPER);
        case 7: return getColourmapData(PINK);
        case 8: return getColourmapData(GREY);
        case 9: return getColourmapData(GNUPLOT2);
        default :
            DBG("NO COLOURMAP FOR THIS CODE : " + code);
            return getColourmapData(INFERNO);
    }
}

static const const float* getAccentColoursForCode(int code)
{
    switch (code)
    {
    case 0: return getAccentData(INFERNO_ACCENT);
    case 1: return getAccentData(PLASMA_ACCENT);
    case 2: return getAccentData(VIRIDIS_ACCENT);
    case 3: return getAccentData(COOLWARM_ACCENT);
    case 4: return getAccentData(RAINBOW_ACCENT);
    case 5: return getAccentData(HOT_ACCENT);
    case 6: return getAccentData(COPPER_ACCENT);
    case 7: return getAccentData(PINK_ACCENT);
    case 8: return getAccentData(GREY_ACCENT);
    case 9: return getAccentData(GNUPLOT2_ACCENT);
    default:
        DBG("NO ACCENT COLOURS FOR THIS CODE : " + code);
        return getAccentData(INFERNO_ACCENT);
    }
}

const ColourMap INFERNO =
{
    0.001462, 0.000466, 0.013866,
    0.076637, 0.041905, 0.205799,
    0.224763, 0.036405, 0.388129,
    0.372768, 0.073915, 0.4324,
    0.522206, 0.12815,  0.419549,
    0.66454,  0.181539, 0.369846,
    0.796607, 0.254728, 0.287264,
    0.902003, 0.364492, 0.184116,
    0.969163, 0.515946, 0.063488,
    0.987714, 0.682807, 0.072489,
    0.960626, 0.859069, 0.29801,
    0.988362, 0.998364, 0.644924
};

const ColourMap PLASMA =
{
    0.050383, 0.029803, 0.527975,
    0.241396, 0.014979, 0.610259,
    0.387183, 0.001434, 0.654177,
    0.523633, 0.024532, 0.652901,
    0.650746, 0.125309, 0.595617,
    0.752312, 0.227133, 0.513149,
    0.836801, 0.329105, 0.430905,
    0.907365, 0.434524, 0.35297,
    0.963203, 0.553865, 0.271909,
    0.991985, 0.681179, 0.195295,
    0.986509, 0.822401, 0.143557,
    0.940015, 0.975158, 0.131326
};

const ColourMap VIRIDIS =
{
    0.267004, 0.004874, 0.329415,
    0.283072, 0.130895, 0.449241,
    0.262138, 0.242286, 0.520837,
    0.220057, 0.343307, 0.549413,
    0.177423, 0.437527, 0.557565,
    0.143343, 0.522773, 0.556295,
    0.119512, 0.607464, 0.540218,
    0.166383, 0.690856, 0.496502,
    0.319809, 0.770914, 0.411152,
    0.525776, 0.833491, 0.288127,
    0.762373, 0.876424, 0.137064,
    0.993248, 0.906157, 0.143936
};

const ColourMap COOLWARM =
{
    0.0, 0.0, 0.3,
    0.0, 0.0, 0.5525490196078431,
    0.0, 0.0, 0.8050980392156861,
    0.08235294117647059, 0.08235294117647059, 1.0,
    0.4588235294117647, 0.4588235294117647, 1.0,
    0.8196078431372549, 0.8196078431372549, 1.0,
    1.0, 0.8196078431372549, 0.8196078431372549,
    1.0, 0.45882352941176474, 0.45882352941176474,
    1.0, 0.08235294117647063, 0.08235294117647063,
    0.8607843137254902, 0.0, 0.0,
    0.6803921568627451, 0.0, 0.0,
    0.5, 0.0, 0.0
};

const ColourMap RAINBOW =
{
    0.5, 0.0, 1.0,
    0.3196078431372549, 0.2795825925967438, 0.989980213280707,
    0.1392156862745098, 0.53686659764418, 0.9601216453746282,
    0.04117647058823526, 0.7513318895568732, 0.9110226492460883,
    0.22941176470588232, 0.9110226492460882, 0.8403440716378927,
    0.40980392156862744, 0.989980213280707, 0.7553827347189938,
    0.5901960784313725, 0.989980213280707, 0.6552838500134537,
    0.7705882352941176, 0.9110226492460884, 0.5420533564724495,
    0.9588235294117646, 0.7513318895568735, 0.41235631747390367,
    1.0, 0.5368665976441802, 0.27958259259674395,
    1.0, 0.279582592596744, 0.14120615182309149,
    1.0, 0.0, 0.0
};

const ColourMap HOT =
{
    0.0416, 0.0, 0.0,
    0.2783814132520015, 0.0, 0.0,
    0.5151628265040029, 0.0, 0.0,
    0.7519442397560044, 0.0, 0.0,
    0.9990204970624408, 0.0, 0.0,
    1.0, 0.23578488890837906, 0.0,
    1.0, 0.47254921004871014, 0.0,
    1.0, 0.7093135311890413, 0.0,
    1.0, 0.9563719532485172, 0.0,
    1.0, 1.0, 0.2897051720581133,
    1.0, 1.0, 0.6448525860290567,
    1.0, 1.0, 1.0
};

const ColourMap COPPER =
{
    0.0, 0.0, 0.0,
    0.11141865890495223, 0.07046117647058824, 0.04487254901960784,
    0.22283731780990446, 0.14092235294117647, 0.08974509803921568,
    0.3342559767148567, 0.2113835294117647, 0.1346176470588235,
    0.45051892513741554, 0.28490823529411763, 0.18144117647058822,
    0.5619375840423678, 0.3553694117647059, 0.22631372549019607,
    0.67335624294732, 0.42583058823529407, 0.27118627450980387,
    0.7847749018522723, 0.4962917647058823, 0.3160588235294117,
    0.9010378502748311, 0.5698164705882353, 0.36288235294117643,
    1.0, 0.6402776470588235, 0.4077549019607843,
    1.0, 0.7107388235294118, 0.45262745098039214,
    1.0, 0.7812, 0.4975
};

const ColourMap PINK =
{
    0.1178, 0.0, 0.0,
    0.3907973570559453, 0.24500250122108944, 0.24500250122108944,
    0.5402557971212677, 0.3467107606380547, 0.3467107606380547,
    0.656529337246749, 0.42471789198083315, 0.42471789198083315,
    0.7590381506887389, 0.49308709621591973, 0.49308709621591973,
    0.7978667785300726, 0.6178787939552057, 0.5506790408339232,
    0.8346988067961009, 0.7216993276880336, 0.6028114313873726,
    0.8699774960106137, 0.8123799745850334, 0.6507899790098614,
    0.9053210412465118, 0.8972495541448482, 0.6973320464866346,
    0.9379398064230418, 0.9379398064230418, 0.8018004825088355,
    0.9694647807844866, 0.9694647807844866, 0.9063233018543019,
    1.0, 1.0, 1.0
};

const ColourMap GREY =
{
    0.0, 0.0, 0.0,
    0.09019607843137255, 0.09019607843137255, 0.09019607843137255,
    0.1803921568627451, 0.1803921568627451, 0.1803921568627451,
    0.27058823529411763, 0.27058823529411763, 0.27058823529411763,
    0.36470588235294116, 0.36470588235294116, 0.36470588235294116,
    0.4549019607843137, 0.4549019607843137, 0.4549019607843137,
    0.5450980392156862, 0.5450980392156862, 0.5450980392156862,
    0.6352941176470588, 0.6352941176470588, 0.6352941176470588,
    0.7294117647058823, 0.7294117647058823, 0.7294117647058823,
    0.8196078431372549, 0.8196078431372549, 0.8196078431372549,
    0.9098039215686274, 0.9098039215686274, 0.9098039215686274,
    1.0, 1.0, 1.0
};

const ColourMap GNUPLOT2 =
{
    0.0, 0.0, 0.0,
    0.0, 0.0, 0.3607843137254902,
    0.0, 0.0, 0.7215686274509804,
    0.06433823529411753, 0.0, 1.0,
    0.3584558823529411, 0.0, 1.0,
    0.6403186274509804, 0.06980392156862747, 0.9301960784313726,
    0.9221813725490193, 0.2501960784313725, 0.7498039215686276,
    1.0, 0.4305882352941176, 0.5694117647058825,
    1.0, 0.6188235294117647, 0.38117647058823545,
    1.0, 0.7992156862745098, 0.20078431372549033,
    1.0, 0.9796078431372549, 0.020392156862745203,
    1.0, 1.0, 1.0
};

AccentColours INFERNO_ACCENT = { 
    0.90200, 0.36449, 0.18411,
    0.98836, 0.99836, 0.64492
};

AccentColours PLASMA_ACCENT = {
    0.90736, 0.43452, 0.35297,
    0.94001, 0.97515, 0.13132
};

AccentColours VIRIDIS_ACCENT = {
    0.17742, 0.43752, 0.55756,
    0.52577, 0.83349, 0.28812
};

AccentColours COOLWARM_ACCENT = {
    1.00000, 1.00000, 1.00000,
    1.00000, 0.00000, 0.00000
};

AccentColours RAINBOW_ACCENT = {
    0.59019, 0.98998, 0.65528,
    1.00000, 0.27958, 0.14120
};

AccentColours HOT_ACCENT = {
    1.00000, 1.00000, 1.00000,
    1.00000, 1.00000, 1.00000
};

AccentColours COPPER_ACCENT = {
    0.45051, 0.28490, 0.18144,
    1.00000, 0.78120, 0.49750
};

AccentColours PINK_ACCENT = {
    0.65652, 0.42471, 0.42471,
    0.90532, 0.89724, 0.69733
};

AccentColours GREY_ACCENT = {
    0.54509, 0.54509, 0.54509,
    0.90980, 0.90980, 0.90980,
};

AccentColours GNUPLOT2_ACCENT = {
    0.00000, 0.00000, 0.72156,
    1.00000, 1.00000, 0.00000
};